package practica;

import java.util.Random;

public class Tarjeta {

	/**
	 * Variable para generar un tiempo aleatorio
	 */
	private Random tiempo = new Random();
	/**
	 * Id de la tarjeta
	 */
	private int id;
	/**
	 * Variable que indica si la tarjeta está libre o no. Si su valor es true, está
	 * libre.
	 */
	private boolean libre = true;

	/**
	 * 
	 * Constructor de la clase Tarjeta
	 * 
	 * @param id
	 */
	public Tarjeta(int id) {
		this.id = id;
	}

	/**
	 * 
	 * Monitor para coger el tenedor izquierdo
	 * 
	 * @param idPersona id de la persona
	 * @throws InterruptedException
	 */
	public synchronized void cogerTarjetaIzq(int idPersona) throws InterruptedException {
		while (!libre) {
			this.wait();
		}

		System.out.println("La persona " + idPersona + " coge la tarjeta " + id);
		
		libre = false;
		
	}

	public synchronized boolean cogerTarjetaDer(int idPersona) throws InterruptedException {
		while (!libre) {
			this.wait(tiempo.nextInt(5000) + 2000);
			return false;
		}
		System.out.println("La persona "+idPersona+" coge la tarjeta "+ id);
	}

}
